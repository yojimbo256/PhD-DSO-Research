"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[51],{48588:function(e,t,i){i.d(t,{L:function(){return o}});i(31014);var n=i(33678),r=i(50353),a=i(50111);function o(e){const{usesFullHeight:t,...i}=e;return(0,a.FD)(n.ffj,{css:t?s.useFullHeightLayout:s.wrapper,children:[(0,a.Y)(r.S,{css:s.fixedSpacer}),t?e.children:(0,a.Y)("div",{...i,css:s.container})]})}o.defaultProps={usesFullHeight:!1};const s={useFullHeightLayout:{height:"100%",display:"flex",flexDirection:"column","&:last-child":{flexGrow:1}},wrapper:{flex:1},fixedSpacer:{flexShrink:0},container:{width:"100%",flexGrow:1,paddingBottom:24}}},64408:function(e,t,i){i.d(t,{Ap:function(){return u},GE:function(){return g},In:function(){return m},Yj:function(){return h},Z0:function(){return a},f9:function(){return d},hA:function(){return n},jO:function(){return p},lg:function(){return c},uQ:function(){return r}});const n=e=>{const t=e.split("/");return t[t.length-1]},r=e=>{const t=e.split(/[./]/);return t[t.length-1]},a=e=>{const t=r(e).toLowerCase();return t in l?l[t]:t},o="mlproject",s="mlmodel",l={[o.toLowerCase()]:"yaml",[s.toLowerCase()]:"yaml"},d=new Set(["jpg","bmp","jpeg","png","gif","svg"]),c=new Set(["txt","log","err","cfg","conf","cnf","cf","ini","properties","prop","hocon","toml","yaml","yml","xml","json","js","py","py3","md","rst",o.toLowerCase(),s.toLowerCase(),"jsonnet"]),p=new Set(["html"]),h=new Set(["geojson"]),u=new Set(["pdf"]),g=new Set(["csv","tsv"]),m=new Set(["m4a","mp3","mp4","wav","aac","wma","flac","opus","ogg"])},17275:function(e,t,i){i.d(t,{K:function(){return c}});var n=i(90725),r=i(64408),a=i(34860),o=i(28741),s=i(31014),l=i(88443),d=i(50111);const c=e=>{let{data:t,onToggleTreebeard:i}=e;const{theme:r}=(0,o.a)(),a=(0,s.useMemo)((()=>p(r)),[r]);return(0,d.Y)(n.Treebeard,{data:t,onToggle:i,style:a,decorators:n.decorators})};n.decorators.Header=e=>{let t,{style:i,node:n}=e;if(n.children)t="folder";else{const e=(0,r.uQ)(n.name);t=r.f9.has(e)?"file-image-o":r.GE.has(e)?"file-excel-o":r.lg.has(e)?"file-code-o":"file-text-o"}const a=`fa fa-${t}`,o=n.children?{marginRight:"5px"}:{marginRight:"5px",marginLeft:"19px"};return(0,d.Y)("div",{style:i.base,"data-test-id":"artifact-tree-node","artifact-name":n.name,"aria-label":n.name,children:(0,d.FD)("div",{style:i.title,children:[(0,d.Y)("i",{className:a,style:o}),n.name]})})},n.decorators.Loading=e=>{let{style:t}=e;return(0,d.FD)("div",{style:t,children:[(0,d.Y)("img",{alt:"",className:"loading-spinner",src:a}),(0,d.Y)(l.A,{id:"RlRsah",defaultMessage:"loading..."})]})};const p=e=>({tree:{base:{listStyle:"none",margin:0,padding:0,backgroundColor:e.colors.backgroundPrimary,color:e.colors.textPrimary,fontSize:e.typography.fontSizeMd,maxWidth:"500px",height:"100%",overflow:"scroll"},node:{base:{position:"relative"},link:{cursor:"pointer",position:"relative",padding:"0px 5px",display:"block"},activeLink:{background:e.isDarkMode?e.colors.grey700:e.colors.grey300},toggle:{base:{position:"relative",display:"inline-block",verticalAlign:"top",marginLeft:"-5px",height:"24px",width:"24px"},wrapper:{position:"absolute",top:"50%",left:"50%",margin:"-12px 0 0 -4px",height:"14px"},height:7,width:7,arrow:{fill:"#7a7a7a",strokeWidth:0}},header:{base:{display:"inline-block",verticalAlign:"top",color:e.colors.textPrimary},connector:{width:"2px",height:"12px",borderLeft:"solid 2px black",borderBottom:"solid 2px black",position:"absolute",top:"0px",left:"-21px"},title:{lineHeight:"24px",verticalAlign:"middle"}},subtree:{listStyle:"none",paddingLeft:"19px"}}}})},57596:function(e,t,i){i.d(t,{F:function(){return l}});var n=i(33678),r=i(28741),a=(i(31014),i(88443)),o=i(50111);var s={name:"r3950p",styles:"flex:1;display:flex;justify-content:center;align-items:center"};const l=e=>{let{description:t,title:i,...l}=e;return(0,o.Y)("div",{css:s,...l,children:(0,o.Y)(n.SvL,{image:(0,o.Y)(r.y,{}),title:null!==i&&void 0!==i?i:(0,o.Y)(a.A,{id:"Gm77Ws",defaultMessage:"Loading artifact failed"}),description:t})})}},8220:function(e,t,i){i.d(t,{$:function(){return h},d:function(){return p}});var n=i(89555),r=i(33678),a=i(28741),o=i(88443),s=i(50111);const l=e=>{let{count:t}=e;return(0,s.Y)(s.FK,{children:new Array(t).fill("").map(((e,t)=>(0,s.Y)(r.I_K,{seed:t.toString(),label:0===t?(0,s.Y)(o.A,{id:"v+0HXI",defaultMessage:"Artifact loading"}):void 0},t)))})};var d={name:"36bnqj",styles:"display:flex;flex:1"},c={name:"82a6rk",styles:"flex:1"};const p=()=>{const{theme:e}=(0,a.a)();return(0,s.FD)("div",{css:d,children:[(0,s.Y)("div",{css:c,children:(0,s.Y)("div",{css:(0,n.AH)({margin:e.spacing.sm},""),children:(0,s.Y)(l,{count:9})})}),(0,s.Y)("div",{css:(0,n.AH)({flex:3,borderLeft:`1px solid ${e.colors.border}`},""),children:(0,s.FD)("div",{css:(0,n.AH)({margin:e.spacing.sm},""),children:[(0,s.Y)(r.oud,{css:(0,n.AH)({marginBottom:e.spacing.md},"")}),(0,s.Y)(l,{count:3}),(0,s.Y)("div",{css:(0,n.AH)({width:"75%",marginTop:e.spacing.md},""),children:(0,s.Y)(l,{count:3})})]})})]})},h=e=>{const{theme:t}=(0,a.a)();return(0,s.Y)("div",{css:(0,n.AH)({margin:t.spacing.md},""),...e,children:(0,s.Y)(l,{count:9})})}},96588:function(e,t,i){i.d(t,{A:function(){return ke}});var n=i(31014),r=i(64408),a=i(98590),o=i(25866),s=i(33678),l=i(77484),d=i(46536),c=i(50111);var p={name:"82a6rk",styles:"flex:1"};const h={imageOuterContainer:{padding:"10px",overflow:"scroll",background:"white",minHeight:"100%"},imageWrapper:{display:"inline-block"},image:{cursor:"pointer","&:hover":{boxShadow:"0 0 4px gray"}},hidden:{display:"none"}};var u=e=>{let{runUuid:t,path:i,getArtifact:r=l.xC,isLoggedModelsMode:a,loggedModelId:o}=e;const[u,g]=(0,n.useState)(!0),[m,f]=(0,n.useState)(!1),[v,y]=(0,n.useState)(null);return(0,n.useEffect)((()=>{g(!0);const e=a&&o?(0,l.qk)(i,o):(0,l.To)(i,t);r(e).then((e=>{const t=i.toLowerCase().endsWith(".svg")?{type:"image/svg+xml"}:void 0;y(URL.createObjectURL(new Blob([new Uint8Array(e)],t))),g(!1)}))}),[t,i,r,a,o]),v&&(0,c.Y)("div",{css:p,children:(0,c.FD)("div",{css:h.imageOuterContainer,children:[u&&(0,c.Y)(s.PLz,{active:!0}),(0,c.Y)("div",{css:u?h.hidden:h.imageWrapper,children:(0,c.Y)("img",{alt:i,css:h.image,src:v,onLoad:()=>g(!1),onClick:()=>f(!0)})}),(0,c.Y)("div",{css:[h.hidden,""],children:(0,c.Y)(d.b,{visible:m,onVisibleChange:f,children:(0,c.Y)(d._,{src:v})})})]})})},g=i(7315),m=i(26217),f=i(28741),v=i(8220),y=i(57596);class w extends n.Component{constructor(e){super(e),this.state={loading:!0,error:void 0,text:void 0,path:void 0},this.fetchArtifacts=this.fetchArtifacts.bind(this)}componentDidMount(){this.fetchArtifacts()}componentDidUpdate(e){this.props.path===e.path&&this.props.runUuid===e.runUuid||this.fetchArtifacts()}render(){if(this.state.loading||this.state.path!==this.props.path)return(0,c.Y)(v.$,{className:"artifact-text-view-loading"});if(this.state.error)return(0,c.Y)(y.F,{className:"artifact-text-view-error"});{const e=(this.props.size||0)>102400?"text":(0,r.Z0)(this.props.path),{theme:t}=this.props.designSystemThemeApi,i={fontFamily:"Source Code Pro,Menlo,monospace",fontSize:t.typography.fontSizeMd,overflow:"auto",marginTop:"0",width:"100%",height:"100%",padding:t.spacing.xs,borderColor:t.colors.borderDecorative,border:"none"},n=this.state.text?function(e,t){if("json"===e){try{const e=JSON.parse(t);return JSON.stringify(e,null,2)}catch(i){}return t}return t}(e,this.state.text):this.state.text,a=t.isDarkMode?m.iU:m.ge;return(0,c.Y)("div",{className:"ShowArtifactPage",children:(0,c.Y)("div",{className:"text-area-border-box",children:(0,c.Y)(g.A,{language:e,style:a,customStyle:i,children:null!==n&&void 0!==n?n:""})})})}}fetchArtifacts(){var e,t;this.setState({loading:!0});const{isLoggedModelsMode:i,loggedModelId:n,path:r,runUuid:a}=this.props,o=i&&n?(0,l.qk)(r,n):(0,l.To)(r,a);null===(e=(t=this.props).getArtifact)||void 0===e||e.call(t,o).then((e=>{this.setState({text:e,loading:!1})})).catch((e=>{this.setState({error:e,loading:!1})})),this.setState({path:this.props.path})}}w.defaultProps={getArtifact:l.Y0};var x=n.memo((0,f.$)(w)),Y=i(27705);const b=n.lazy((()=>Promise.all([i.e(841),i.e(801)]).then(i.bind(i,79716)))),A=e=>(0,c.Y)(Y.g,{children:(0,c.Y)(n.Suspense,{fallback:(0,c.Y)(s.PLz,{active:!0}),children:(0,c.Y)(b,{...e})})});var M=i(28715);class S extends n.Component{constructor(e){super(e),this.state={loading:!0,error:void 0,html:"",path:""},this.getBlobURL=(e,t)=>{const i=new Blob([e],{type:t});return URL.createObjectURL(i)},this.fetchArtifacts=this.fetchArtifacts.bind(this)}componentDidMount(){this.fetchArtifacts()}componentDidUpdate(e){this.props.path===e.path&&this.props.runUuid===e.runUuid||this.fetchArtifacts()}render(){return this.state.loading||this.state.path!==this.props.path?(0,c.Y)(v.$,{className:"artifact-html-view-loading"}):this.state.error?(console.error("Unable to load HTML artifact, got error "+this.state.error),(0,c.Y)("div",{className:"artifact-html-view-error",children:"Oops we couldn't load your file because of an error."})):(0,c.Y)("div",{className:"artifact-html-view",children:(0,c.Y)(M.A,{url:"",src:this.getBlobURL(this.state.html,"text/html"),width:"100%",height:"100%",id:"html",className:"html-iframe",display:"block",position:"relative",sandbox:"allow-scripts"})})}fetchArtifacts(){const{path:e,runUuid:t,isLoggedModelsMode:i,loggedModelId:n}=this.props,r=i&&n?(0,l.qk)(e,n):(0,l.To)(e,t);this.props.getArtifact(r).then((e=>{this.setState({html:e,loading:!1,path:this.props.path})})).catch((e=>{this.setState({error:e,loading:!1,path:this.props.path})}))}}S.defaultProps={getArtifact:l.Y0};var k=S;const C=n.lazy((()=>Promise.all([i.e(314),i.e(245)]).then(i.bind(i,97540)))),L=e=>(0,c.Y)(Y.g,{children:(0,c.Y)(n.Suspense,{fallback:(0,c.Y)(s.PLz,{active:!0}),children:(0,c.Y)(C,{...e})})}),F=n.lazy((()=>i.e(334).then(i.bind(i,73334)))),T=e=>(0,c.Y)(Y.g,{children:(0,c.Y)(n.Suspense,{fallback:(0,c.Y)(s.PLz,{active:!0}),children:(0,c.Y)(F,{...e})})});var I=i(77948),D=i.n(I),N=i(92516),z=i(47664),_=i(88443),R=i(64912),P=i(89555),K=i(37616),H=i(56412);var U={name:"bjn8wh",styles:"position:relative"};const j=e=>{let{code:t}=e;const{theme:i}=(0,f.a)();return(0,c.FD)("div",{css:U,children:[(0,c.Y)(H.i,{css:(0,P.AH)({zIndex:1,position:"absolute",top:i.spacing.xs,right:i.spacing.xs},""),showLabel:!1,copyText:t,icon:(0,c.Y)(s.TdU,{})}),(0,c.Y)(K.z7,{language:"python",showLineNumbers:!1,style:{padding:i.spacing.sm,color:i.colors.textPrimary,backgroundColor:i.colors.backgroundSecondary,whiteSpace:"pre-wrap"},wrapLongLines:!0,children:t})]})};const{Paragraph:E,Text:G,Title:J}=f.p;var q={name:"18uqayh",styles:"margin-bottom:16px"},B={name:"18uqayh",styles:"margin-bottom:16px"};class X extends n.Component{constructor(e){super(e),this.state={loading:!0,error:void 0,inputs:void 0,outputs:void 0,flavor:void 0,loader_module:void 0,serving_input:void 0},this.fetchLoggedModelMetadata=this.fetchLoggedModelMetadata.bind(this),this.fetchServingInputExample=this.fetchServingInputExample.bind(this)}componentDidMount(){this.fetchLoggedModelMetadata()}componentDidUpdate(e){this.props.path===e.path&&this.props.runUuid===e.runUuid||this.fetchLoggedModelMetadata()}renderModelRegistryText(){return this.props.registeredModelLink?(0,c.Y)(c.FK,{children:(0,c.Y)(_.A,{id:"BQt0TQ",defaultMessage:"This model is also registered to the <link>model registry</link>.",values:{link:e=>(0,c.Y)("a",{href:X.getLearnModelRegistryLinkUrl(),target:"_blank",children:e})}})}):(0,c.Y)(c.FK,{children:(0,c.Y)(_.A,{id:"js4/Y8",defaultMessage:"You can also <link>register it to the model registry</link> to version control",values:{link:e=>(0,c.Y)("a",{href:X.getLearnModelRegistryLinkUrl(),target:"_blank",children:e})}})})}sparkDataFrameCodeText(e){return`import mlflow\nfrom pyspark.sql.functions import struct, col\nlogged_model = '${e}'\n\n# ${this.props.intl.formatMessage({id:"O1rYVN",defaultMessage:"Load model as a Spark UDF. Override result_type if the model does not return double values."})}\nloaded_model = mlflow.pyfunc.spark_udf(spark, model_uri=logged_model)\n\n# ${this.props.intl.formatMessage({id:"OEGyWZ",defaultMessage:"Predict on a Spark DataFrame."})}\ndf.withColumn('predictions', loaded_model(struct(*map(col, df.columns))))`}loadModelCodeText(e,t){return`import mlflow\nlogged_model = '${e}'\n\n# ${this.props.intl.formatMessage({id:"6bmLqb",defaultMessage:"Load model"})}\nloaded_model = mlflow.${t}.load_model(logged_model)\n`}pandasDataFrameCodeText(e){return`import mlflow\nlogged_model = '${e}'\n\n# ${this.props.intl.formatMessage({id:"kV2Dw/",defaultMessage:"Load model as a PyFuncModel."})}\nloaded_model = mlflow.pyfunc.load_model(logged_model)\n\n# ${this.props.intl.formatMessage({id:"IKx3DN",defaultMessage:"Predict on a Pandas DataFrame."})}\nimport pandas as pd\nloaded_model.predict(pd.DataFrame(data))`}mlflowSparkCodeText(e){return`import mlflow\nlogged_model = '${e}'\n\n# ${this.props.intl.formatMessage({id:"NFUJyk",defaultMessage:"Load model"})}\nloaded_model = mlflow.spark.load_model(logged_model)\n\n# ${this.props.intl.formatMessage({id:"ZGrkWk",defaultMessage:"Perform inference via model.transform()"})}\nloaded_model.transform(data)`}validateModelForServingText(e,t){return t?`from mlflow.models import validate_serving_input\n\nmodel_uri = '${e}'\n\n# The model is logged with an input example. MLflow converts\n# it into the serving payload format for the deployed model endpoint,\n# and saves it to 'serving_input_payload.json'\nserving_payload = """${t}"""\n\n# Validate the serving payload works on the model\nvalidate_serving_input(model_uri, serving_payload)`:`from mlflow.models import validate_serving_input\n\nmodel_uri = '${e}'\n\n# The logged model does not contain an input_example.\n# Manually generate a serving payload to verify your model prior to deployment.\nfrom mlflow.models import convert_input_example_to_serving_input\n\n# Define INPUT_EXAMPLE via assignment with your own input example to the model\n# A valid input example is a data instance suitable for pyfunc prediction\nserving_payload = convert_input_example_to_serving_input(INPUT_EXAMPLE)\n\n# Validate the serving payload works on the model\nvalidate_serving_input(model_uri, serving_payload)`}renderNonPyfuncCodeSnippet(){const{flavor:e}=this.state,{runUuid:t,path:i}=this.props,n=`runs:/${t}/${i}`;return"mleap"===e?(0,c.Y)(c.FK,{}):(0,c.FD)(c.FK,{children:[(0,c.Y)(J,{level:3,children:(0,c.Y)(_.A,{id:"2NfDVN",defaultMessage:"Load the model"})}),(0,c.Y)("div",{className:"artifact-logged-model-view-code-content",children:(0,c.FD)("div",{children:[(0,c.Y)(j,{code:this.loadModelCodeText(n,e)}),(0,c.Y)(_.A,{id:"bHuphj",defaultMessage:"See the documents below to learn how to customize this model and deploy it for batch or real-time scoring using the pyfunc model flavor."}),(0,c.FD)("ul",{children:[(0,c.Y)("li",{children:(0,c.Y)("a",{href:z.HC,children:"API reference for the mlflow.pyfunc module"})}),(0,c.Y)("li",{children:(0,c.Y)("a",{href:z.A6,children:"Creating custom Pyfunc models"})})]})]})})]})}renderPandasDataFramePrediction(e){return(0,c.FD)("div",{css:q,children:[(0,c.Y)(G,{children:(0,c.Y)(_.A,{id:"GXayIF",defaultMessage:"Predict on a Pandas DataFrame:"})}),(0,c.Y)(j,{code:this.pandasDataFrameCodeText(e)})]})}renderPyfuncCodeSnippet(){if("mlflow.spark"===this.state.loader_module)return this.renderMlflowSparkCodeSnippet();const{runUuid:e,path:t}=this.props,i=`runs:/${e}/${t}`;return(0,c.FD)(c.FK,{children:[(0,c.Y)(J,{level:3,children:(0,c.Y)(_.A,{id:"r3/K3V",defaultMessage:"Make Predictions"})}),(0,c.FD)("div",{className:"artifact-logged-model-view-code-content",children:[this.renderPandasDataFramePrediction(i),(0,c.Y)(G,{children:(0,c.Y)(_.A,{id:"6xPc4W",defaultMessage:"Predict on a Spark DataFrame:"})}),(0,c.Y)(j,{code:this.sparkDataFrameCodeText(i)})]})]})}renderMlflowSparkCodeSnippet(){const{runUuid:e,path:t}=this.props,i=`runs:/${e}/${t}`;return(0,c.FD)(c.FK,{children:[(0,c.Y)(J,{level:3,children:(0,c.Y)(_.A,{id:"r3/K3V",defaultMessage:"Make Predictions"})}),(0,c.FD)("div",{className:"artifact-logged-model-view-code-content",children:[this.renderPandasDataFramePrediction(i),(0,c.Y)(j,{code:this.mlflowSparkCodeText(i)})]})]})}renderValidateServingInput(e,t){return(0,c.FD)("div",{css:B,children:[(0,c.Y)(G,{children:(0,c.Y)(_.A,{id:"tNySO0",defaultMessage:"Run the following code to validate model inference works on the example payload, prior to deploying it to a serving endpoint"})}),(0,c.Y)(j,{code:this.validateModelForServingText(e,t)})]})}renderValidateServingInputCodeSnippet(){const{runUuid:e,path:t}=this.props,i=`runs:/${e}/${t}`;return(0,c.FD)(c.FK,{children:[(0,c.Y)(J,{level:3,children:(0,c.Y)(_.A,{id:"5B5dhT",defaultMessage:"Validate the model before deployment"})}),(0,c.Y)("div",{className:"artifact-logged-model-view-code-content",children:this.renderValidateServingInput(i,this.state.serving_input)})]})}render(){return this.state.loading?(0,c.Y)(v.$,{className:"artifact-logged-model-view-loading"}):this.state.error?(0,c.Y)(y.F,{className:"artifact-logged-model-view-error",description:(0,c.Y)(_.A,{id:"81+fJx",defaultMessage:"Couldn't load model information due to an error."})}):(0,c.Y)("div",{className:"ShowArtifactPage",children:(0,c.FD)("div",{className:"show-artifact-logged-model-view",children:[(0,c.FD)("div",{className:"artifact-logged-model-view-header",style:{marginTop:16,marginBottom:16,marginLeft:16},children:[(0,c.Y)(J,{level:2,children:(0,c.Y)(_.A,{id:"z2Gyuw",defaultMessage:"MLflow Model"})}),"pyfunc"===this.state.flavor?(0,c.Y)(_.A,{id:"ySno61",defaultMessage:"The code snippets below demonstrate how to make predictions using the logged model."}):(0,c.Y)(_.A,{id:"25EUlg",defaultMessage:"The code snippets below demonstrate how to load the logged model."})," ",this.renderModelRegistryText()]}),(0,c.Y)("hr",{}),(0,c.FD)("div",{className:"artifact-logged-model-view-schema-table",style:{width:"45%",marginLeft:16,float:"left"},children:[(0,c.Y)(J,{level:3,children:(0,c.Y)(_.A,{id:"27oNFE",defaultMessage:"Model schema"})}),(0,c.Y)("div",{className:"content",children:(0,c.Y)(G,{children:(0,c.Y)(_.A,{id:"GAJL1v",defaultMessage:"Input and output schema for your model. <link>Learn more</link>",values:{link:e=>(0,c.Y)("a",{href:z.$L,target:"_blank",children:e})}})})}),(0,c.Y)("div",{style:{marginTop:12},children:(0,c.Y)(N.i,{schema:{inputs:this.state.inputs,outputs:this.state.outputs},defaultExpandAllRows:!0})})]}),(0,c.FD)("div",{className:"artifact-logged-model-view-code-group",style:{width:"50%",marginRight:16,float:"right"},children:[this.renderValidateServingInputCodeSnippet(),"pyfunc"===this.state.flavor?this.renderPyfuncCodeSnippet():this.renderNonPyfuncCodeSnippet()]})]})})}fetchLoggedModelMetadata(){const e=(0,l.To)(`${this.props.path}/${o.eh}`,this.props.runUuid);this.props.getArtifact(e).then((e=>{const t=D().load(e);if(t.signature){const e=Array.isArray(t.signature.inputs)?t.signature.inputs:JSON.parse(t.signature.inputs||"[]"),i=Array.isArray(t.signature.outputs)?t.signature.outputs:JSON.parse(t.signature.outputs||"[]");this.setState({inputs:e,outputs:i})}else this.setState({inputs:"",outputs:""});if(t.flavors.mleap?this.setState({flavor:"mleap"}):t.flavors.python_function?this.setState({flavor:"pyfunc",loader_module:t.flavors.python_function.loader_module}):this.setState({flavor:Object.keys(t.flavors)[0]}),this.setState({loading:!1}),t.saved_input_example_info&&t.saved_input_example_info.serving_input_path){const e=(0,l.To)(`${this.props.path}/${t.saved_input_example_info.serving_input_path}`,this.props.runUuid);this.fetchServingInputExample(e)}else this.setState({serving_input:null})})).catch((e=>{this.setState({error:e,loading:!1})}))}fetchServingInputExample(e){this.props.getArtifact(e).then((e=>{this.setState({serving_input:e})})).catch((()=>{this.setState({serving_input:null})}))}}X.defaultProps={getArtifact:l.Y0},X.getLearnModelRegistryLinkUrl=()=>z.gw;var V=(0,R.Ay)(X);var Q=i.p+"static/media/warning.290a3b14118933547965e91ea61c5a61.svg",O=i(69869),W=i(9133),Z=i(88464),$=i(70618),ee=i(9856),te=i(54421),ie=i(14343),ne=i(40555),re=i(15230);var ae={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},oe={name:"8k1832",styles:"position:relative;display:flex"},se={name:"111ddn1",styles:"display:flex;justify-content:space-between;flex-shrink:0"},le={name:"1tc6xju",styles:"flex:1;overflow:auto"};const de=e=>{let{data:t,onClose:i}=e;const{theme:r}=(0,f.a)(),[a,o]=(0,n.useState)(!1);return(0,W.isUndefined)(t)?null:(0,c.FD)("div",{css:(0,P.AH)({display:"flex",height:"100%",flexDirection:"row-reverse",position:"relative",borderLeft:`1px solid ${r.colors.border}`},""),children:[a&&(0,c.Y)(P.mL,{styles:ae}),(0,c.Y)(re.ResizableBox,{width:200,height:void 0,axis:"x",resizeHandles:["w"],minConstraints:[200,150],maxConstraints:[500,150],onResizeStart:()=>o(!0),onResizeStop:()=>o(!1),handle:(0,c.Y)("div",{css:(0,P.AH)({width:r.spacing.xs,left:-r.spacing.xs/2,height:"100%",position:"absolute",top:0,cursor:"ew-resize","&:hover":{backgroundColor:r.colors.border,opacity:.5}},"")}),css:oe,children:(0,c.FD)("div",{css:(0,P.AH)({padding:r.spacing.sm,overflow:"hidden",display:"flex",flexDirection:"column"},""),children:[(0,c.FD)("div",{css:se,children:[(0,c.Y)(f.p.Title,{level:5,children:(0,c.Y)(_.A,{id:"+dGAnC",defaultMessage:"Preview"})}),(0,c.Y)(f.B,{componentId:"mlflow.run.artifact_view.preview_close",onClick:()=>i(),icon:(0,c.Y)(f.C,{})})]}),!t&&(0,c.Y)(f.p.Text,{color:"secondary",children:(0,c.Y)(_.A,{id:"kjltRf",defaultMessage:"Click a cell to preview data"})}),(0,c.Y)("div",{css:le,children:(0,c.Y)(ne.fX,{json:t})})]})})]})};var ce=i(76010);var pe={name:"7zbxzd",styles:"flex:1;overflow:hidden;display:flex;flex-direction:column"},he={name:"1pbmicl",styles:"overflow:auto;flex:1"},ue={name:"fmgtfw",styles:".table-header-icon-container{line-height:0;}"};const ge=e=>{let{data:t,runUuid:i}=e;const[r,a]=(0,n.useState)([]),[d,p]=(0,n.useState)(!1),h=(0,Z.A)(),{theme:u}=(0,f.a)(),g=160-2*u.spacing.sm,m=(0,n.useRef)(null),[v,y]=(0,n.useState)({width:0,height:0});(0,n.useEffect)((()=>{if(m.current){const{width:e,height:t}=m.current.getBoundingClientRect();y({width:e,height:t})}}),[]);const w=(0,n.useMemo)((()=>t.columns),[t]),[x,Y]=(0,n.useState)([]),[b,A]=(0,n.useState)(void 0),M=(0,n.useMemo)((()=>t.data),[t]),S=(0,n.useMemo)((()=>M.length>0?w.filter(((e,t)=>{if(null!==M[0][t]&&"object"===typeof M[0][t]){const{type:e}=M[0][t];return e===o.Oe}return!1})):[]),[w,M]),k=(0,n.useMemo)((()=>{const e=1+(d?24:32);return S.length>0?Math.floor((v.height-e-48)/160):Math.floor((v.height-e-48)/e)}),[v,S,d]),[C,L]=(0,n.useState)({pageSize:1,pageIndex:0});(0,n.useEffect)((()=>{L((e=>({...e,pageSize:k})))}),[k]);const F=(0,n.useMemo)((()=>w.filter((e=>!x.includes(e))).map((e=>{const t=String(e);return S.includes(e)?{id:t,header:t,accessorKey:t,minSize:100,cell:e=>{try{const t=JSON.parse(e.getValue()),{filepath:n,compressed_filepath:r}=t,a=(0,l.To)(n,i),o=(0,l.To)(r,i);return(0,c.Y)(te.TV,{imageUrl:a,compressedImageUrl:o,maxImageSize:g})}catch{return ce.A.logErrorAndNotifyUser("Error parsing image data in logged table's image column"),e.getValue()}}}:{id:t,header:t,accessorKey:t,minSize:100}}))),[w,g,S,i,x]),T=(0,n.useMemo)((()=>M.map((e=>{const t={};for(let i=0;i<w.length;i++){const n=e[i];t[w[i]]="string"===typeof n?n:JSON.stringify(n)}return t}))),[M,w]),I=(0,$.N4)({columns:F,data:T,state:{pagination:C,sorting:r},onSortingChange:a,getCoreRowModel:(0,ee.HT)(),getSortedRowModel:(0,ee.h5)(),getPaginationRowModel:(0,ee.kW)(),enableColumnResizing:!0,columnResizeMode:"onChange"}),D=(0,c.Y)(s.dKS,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifact-view-components_showartifactloggedtableview.tsx_181",currentPageIndex:C.pageIndex+1,numTotal:M.length,onChange:(e,t)=>{L({pageSize:t||C.pageSize,pageIndex:e-1})},pageSize:C.pageSize});return(0,c.FD)("div",{ref:m,css:(0,P.AH)({paddingLeft:u.spacing.md,height:"100%",display:"flex",gap:u.spacing.xs,overflow:"hidden"},""),children:[(0,c.FD)("div",{css:pe,children:[(0,c.Y)("div",{css:he,children:(0,c.FD)(s.XIK,{scrollable:!0,size:d?"small":"default",css:ue,style:{width:I.getTotalSize()},children:[I.getHeaderGroups().map((e=>(0,c.Y)(s.Hjg,{isHeader:!0,children:e.headers.map(((e,t)=>(0,c.Y)(s.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifact-view-components_showartifactloggedtableview.tsx_223",sortable:!0,sortDirection:e.column.getIsSorted()||"none",onToggleSort:e.column.getToggleSortingHandler(),resizable:e.column.getCanResize(),resizeHandler:e.getResizeHandler(),isResizing:e.column.getIsResizing(),style:{maxWidth:e.column.getSize()},children:(0,$.Kv)(e.column.columnDef.header,e.getContext())},e.id)))},e.id))),I.getRowModel().rows.map((e=>(0,c.Y)(s.Hjg,{children:e.getAllCells().map((e=>(0,c.Y)(s.nA6,{css:(0,P.AH)({maxHeight:160,"&:hover":{backgroundColor:u.colors.tableBackgroundSelectedHover,cursor:"pointer"}},""),onClick:()=>{A(String(e.getValue()))},tabIndex:0,onKeyDown:t=>{let{key:i}=t;"Enter"===i&&A(String(e.getValue()))},style:{maxWidth:e.column.getSize()},children:(0,$.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))]})}),(0,c.Y)("div",{css:(0,P.AH)({display:"flex",justifyContent:"flex-end",paddingBottom:u.spacing.sm,paddingTop:u.spacing.sm},""),children:D})]}),!(0,W.isUndefined)(b)&&(0,c.Y)(de,{data:b,onClose:()=>A(void 0)}),(0,c.FD)("div",{css:(0,P.AH)({paddingTop:u.spacing.sm,paddingRight:u.spacing.sm,display:"flex",flexDirection:"column",gap:u.spacing.xs},""),children:[(0,c.FD)(s.rId.Root,{modal:!1,children:[(0,c.Y)(s.paO,{title:h.formatMessage({id:"NzRvyj",defaultMessage:"Table settings"}),useAsLabel:!0,children:(0,c.Y)(s.rId.Trigger,{asChild:!0,"aria-label":h.formatMessage({id:"NzRvyj",defaultMessage:"Table settings"}),children:(0,c.Y)(f.B,{componentId:"mlflow.run.artifact_view.table_settings",icon:(0,c.Y)(s.L64,{})})})}),(0,c.FD)(s.rId.Content,{css:(0,P.AH)({maxHeight:10*u.general.heightSm,overflowY:"auto"},""),side:"left",children:[(0,c.Y)(s.rId.Arrow,{}),(0,c.FD)(s.rId.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifact-view-components_showartifactloggedtableview.tsx_315",checked:d,onCheckedChange:p,children:[(0,c.Y)(s.rId.ItemIndicator,{}),(0,c.Y)(_.A,{id:"odkg7W",defaultMessage:"Compact view"})]}),(0,c.Y)(s.rId.Separator,{}),(0,c.FD)(s.rId.Group,{children:[(0,c.Y)(s.rId.Label,{children:(0,c.Y)(_.A,{id:"fMf88R",defaultMessage:"Columns"})}),w.map((e=>(0,c.FD)(s.rId.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifact-view-components_showartifactloggedtableview.tsx_331",onSelect:e=>e.preventDefault(),checked:!x.includes(e),onCheckedChange:()=>{Y((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},children:[(0,c.Y)(s.rId.ItemIndicator,{}),e]},e)))]})]})]}),(0,c.Y)(ie.k,{onClick:()=>{A((()=>(0,W.isUndefined)(b)?"":void 0))},pressed:!(0,W.isUndefined)(b),componentId:"mlflow.run.artifact_view.preview_sidebar_toggle",icon:(0,c.Y)(s.CPw,{})})]})]})},me=n.memo((e=>{let{runUuid:t,path:i,isLoggedModelsMode:r,loggedModelId:o}=e;const[d,p]=(0,n.useState)(!0),[h,u]=(0,n.useState)(),[g,m]=(0,n.useState)(void 0),[v,y]=(0,n.useState)("");(0,n.useEffect)((()=>{p(!0);const e=r&&o?(0,l.qk)(i,o):(0,l.To)(i,t);(0,l.Y0)(e).then((e=>{p(!1),e&&"string"===typeof e?(y(e),u(void 0)):u(Error("Artifact is not a JSON file"))})).catch((e=>{u(e),p(!1)})),m(i)}),[i,t,r,o]);const w=(0,n.useMemo)((()=>(0,a.pt)(v)),[v]),{theme:x}=(0,f.a)(),Y=e=>(0,c.Y)("div",{css:(0,P.AH)({padding:x.spacing.md},""),children:(0,c.Y)(s.SvL,{image:(0,c.Y)(f.y,{}),title:(0,c.Y)(_.A,{id:"hnhCDT",defaultMessage:"Error occurred"}),description:e})});return d||i!==g?(0,c.Y)("div",{css:(0,P.AH)({padding:x.spacing.md},""),children:(0,c.Y)(s.QvX,{lines:5})}):h?Y(h.message):v?w?(0,c.Y)(ge,{data:w,runUuid:t}):Y((0,c.Y)(_.A,{id:"db+oaM",defaultMessage:"Unable to parse JSON file"})):Y(null)}));var fe=i(50353);const ve=n.lazy((()=>i.e(847).then(i.bind(i,23228)))),ye=e=>(0,c.Y)(Y.g,{children:(0,c.Y)(n.Suspense,{fallback:(0,c.Y)(s.PLz,{active:!0}),children:(0,c.Y)(ve,{...e})})});class we extends n.Component{render(){if(this.props.path){const{loggedModelId:e,isLoggedModelsMode:t,path:i,runUuid:n}=this.props,s={loggedModelId:e,isLoggedModelsMode:t,path:i,runUuid:n},l=(0,r.uQ)(this.props.path);let d;const{modelVersions:p}=this.props;if(p){const[e]=p.filter((e=>e.source.endsWith(`artifacts/${l}`)));if(e){const{name:t,version:i}=e;d=O.fM.getModelVersionPageRoute(t,i)}}if(this.props.size>50*o.PE)return Se();if(this.props.isDirectory){if(this.props.runTags&&(0,a.x1)(this.props.runTags).includes(this.props.path))return(0,c.Y)(V,{runUuid:this.props.runUuid,path:this.props.path,artifactRootUri:this.props.artifactRootUri,registeredModelLink:d})}else{if(this.props.showArtifactLoggedTableView)return(0,c.Y)(me,{...s});if(l){if(r.f9.has(l.toLowerCase()))return(0,c.Y)(u,{...s});if(r.GE.has(l.toLowerCase()))return(0,c.Y)(T,{...s});if(r.lg.has(l.toLowerCase()))return(0,c.Y)(x,{...s,size:this.props.size});if(r.Yj.has(l.toLowerCase()))return(0,c.Y)(A,{...s});if(r.jO.has(l.toLowerCase()))return(0,c.Y)(k,{...s});if(r.Ap.has(l.toLowerCase()))return(0,c.Y)(L,{...s});if(r.In.has(l.toLowerCase()))return(0,c.Y)(ye,{...s})}}}return be()}}var xe={name:"r3950p",styles:"flex:1;display:flex;justify-content:center;align-items:center"},Ye={name:"173u6wr",styles:"width:64px;height:64px"};const be=()=>(0,c.Y)("div",{css:xe,children:(0,c.Y)(s.SvL,{image:(0,c.FD)(c.FK,{children:[(0,c.Y)("img",{alt:"Preview icon.",src:"data:image/png;base64,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",css:Ye}),(0,c.Y)(fe.S,{size:"sm"})]}),title:(0,c.Y)(_.A,{id:"6b6fTN",defaultMessage:"Select a file to preview"}),description:(0,c.Y)(_.A,{id:"VzuUre",defaultMessage:"Supported formats: image, text, html, pdf, audio, geojson files"})})});var Ae={name:"r3950p",styles:"flex:1;display:flex;justify-content:center;align-items:center"},Me={name:"173u6wr",styles:"width:64px;height:64px"};const Se=()=>(0,c.Y)("div",{css:Ae,children:(0,c.Y)(s.SvL,{image:(0,c.FD)(c.FK,{children:[(0,c.Y)("img",{alt:"Preview icon.",src:Q,css:Me}),(0,c.Y)(fe.S,{size:"sm"})]}),title:(0,c.Y)(_.A,{id:"9y+yUQ",defaultMessage:"File is too large to preview"}),description:(0,c.Y)(_.A,{id:"8T27QL",defaultMessage:"Maximum file size for preview: 50MiB"})})});var ke=we},92516:function(e,t,i){i.d(t,{i:function(){return y}});var n=i(31014),r=i(28741),a=i(6928),o=i(47664);var s=i(88443),l=i(64912),d=i(33678),c=i(50111);const{Column:p}=a.A,{Text:h}=r.p,u=2;function g(e,t){const{type:i}=e,n=" ".repeat(t*u);if("object"===i){return`${n}{\n${Object.keys(e.properties).map((i=>{const n=e.properties[i],r=n.required?"":" (optional)",a=g(n,t+1),o=(t+1)*u;return`${" ".repeat(o)}${i}: ${a.slice(o)+r}`})).join(",\n")}\n${n}}`}if("array"===i){const i=t*u;return`${n}Array(${g(e.items,t).slice(i)})`}return`${n}${i}`}function m(e){let t=!0;void 0!==e.required?({required:t}=e):void 0!==e.optional&&e.optional&&(t=!1);const i=t?(0,c.Y)(h,{bold:!0,children:"(required)"}):(0,c.Y)(h,{color:"secondary",children:"(optional)"}),n="name"in e?e.name:"-";return(0,c.FD)(h,{children:[n," ",i]})}function f(e){const t="tensor"===e.type?`Tensor (dtype: ${(i=e)["tensor-spec"].dtype}, shape: [${i["tensor-spec"].shape}])`:g(e,0);var i;return(0,c.Y)("pre",{css:Y,children:t})}class v extends n.PureComponent{constructor(){super(...arguments),this.renderSchemaTable=(e,t)=>(0,c.Y)(a.A,{className:"inner-table",size:"middle",showHeader:!1,pagination:!1,locale:{emptyText:`No schema ${t}.`},dataSource:this.getSchemaRowData(e),columns:[{title:"Name",dataIndex:"name",key:"name",width:"40%"},{title:"Type",dataIndex:"type",key:"type",width:"60%"}],scroll:{y:240}}),this.getSchemaRowData=e=>{const t=[];return e.forEach(((e,i)=>{t[i]={key:i,name:m(e),type:f(e)}})),t},this.renderSectionHeader=e=>(0,c.Y)("strong",{className:"primary-text",children:e})}render(){const{schema:e}=this.props,t=e.inputs.length||e.outputs.length?[{key:"1",name:this.props.intl.formatMessage({id:"sxlGRc",defaultMessage:"Inputs ({numInputs})"},{numInputs:e.inputs.length}),type:"",table:this.renderSchemaTable(e.inputs,"inputs")},{key:"2",name:this.props.intl.formatMessage({id:"llVQ2r",defaultMessage:"Outputs ({numOutputs})"},{numOutputs:e.outputs.length}),type:"",table:this.renderSchemaTable(e.outputs,"outputs")}]:[],{theme:i}=this.props.designSystemThemeApi;return(0,c.Y)("div",{css:x(i),children:(0,c.FD)(a.A,{className:"outer-table",rowClassName:"section-header-row",size:"middle",pagination:!1,defaultExpandAllRows:this.props.defaultExpandAllRows,expandRowByClick:!0,expandedRowRender:e=>e.table,expandIcon:e=>{let{expanded:t,onExpand:i,record:n}=e;return t?(0,c.Y)("span",{onClick:e=>i(n,e),children:(0,c.Y)(d.NEo,{})}):(0,c.Y)("span",{onClick:e=>i(n,e),children:(0,c.Y)(d.Xeq,{})})},locale:{emptyText:(0,c.Y)("div",{children:(0,c.Y)(s.A,{id:"Wd8Tga",defaultMessage:"No schema. See <link>MLflow docs</link> for how to include input and output schema with your model.",values:{link:e=>(0,c.Y)("a",{href:o.zR,target:"_blank",rel:"noreferrer",children:e})}})})},dataSource:t,scroll:{x:240},children:[(0,c.Y)(p,{title:this.props.intl.formatMessage({id:"Nj6Ez5",defaultMessage:"Name"}),width:"40%",dataIndex:"name",render:this.renderSectionHeader},1),(0,c.Y)(p,{title:this.props.intl.formatMessage({id:"2f2qeb",defaultMessage:"Type"}),width:"60%",dataIndex:"type",render:this.renderSectionHeader},2)]},"schema-table")})}}const y=(0,l.Ay)((0,r.$)(v)),w=".ant-table-middle>.ant-table-content>.ant-table-scroll>.ant-table-body>table",x=e=>({[`${w}>.ant-table-thead>tr>th.ant-table-expand-icon-th`]:{padding:"12px 0",width:"32px"},[`${w}>.ant-table-thead>tr>th.ant-table-row-cell-break-word`]:{padding:"12px 0"},[`${w}>.ant-table-tbody>tr>td.ant-table-row-cell-break-word`]:{padding:"12px 0"},[`${w}>.ant-table-tbody>tr.section-header-row>td.ant-table-row-cell-break-word`]:{padding:"0",width:"32px"},[`${w}>.ant-table-tbody>tr.section-header-row>td.ant-table-row-expand-icon-cell`]:{padding:"0"},".outer-table .ant-table-body":{overflowX:"auto !important",overflowY:"hidden"},".inner-table .ant-table-body":{overflowY:"auto !important"},".inner-table":{maxWidth:800},".outer-table":{maxWidth:800},".section-header-row":{lineHeight:"32px",cursor:"pointer"},".ant-table-tbody>tr>td":{borderColor:e.colors.borderDecorative},".ant-table-thead>tr>th":{backgroundColor:e.colors.backgroundSecondary,color:e.colors.textPrimary,borderColor:e.colors.borderDecorative},".ant-table-tbody>tr.ant-table-row:hover td":{backgroundColor:e.colors.backgroundSecondary},".ant-table-cell":{backgroundColor:e.colors.backgroundPrimary,color:e.colors.textPrimary}}),Y=e=>({whiteSpace:"pre-wrap",padding:e.spacing.sm,marginTop:e.spacing.sm,marginBottom:e.spacing.sm})},56412:function(e,t,i){i.d(t,{i:function(){return d}});var n=i(31014),r=i(88443),a=i(33678),o=i(28741),s=i(50111);var l={name:"1739oy8",styles:"z-index:1"};const d=e=>{let{copyText:t,showLabel:i=!0,componentId:d,...c}=e;const[p,h]=(0,n.useState)(!1);return(0,s.Y)(a.paO,{title:(0,s.Y)(r.A,{id:"X+boXI",defaultMessage:"Copied"}),dangerouslySetAntdProps:{visible:p},children:(0,s.Y)(o.B,{componentId:null!==d&&void 0!==d?d:"mlflow.shared.copy_button",type:"primary",onClick:()=>{navigator.clipboard.writeText(t),h(!0),setTimeout((()=>{h(!1)}),3e3)},onMouseLeave:()=>{h(!1)},css:l,children:i?(0,s.Y)(r.A,{id:"1Iq+NW",defaultMessage:"Copy"}):void 0,...c})})}}}]);
//# sourceMappingURL=51.f084e16d.chunk.js.map